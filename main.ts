namespace SpriteKind {
    export const HUD = SpriteKind.create()
    export const Fire = SpriteKind.create()
}
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile1 = img`
e e e e e e e e e e e e e e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e d e e e e e e e e 
e e e e d e e e e e e e d e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e e e e e e e e e e 
e e d e e e e e d e e e e e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e e e e e e e e d e 
e e e e e e e e e e e e e e e e 
e e e d e e e e e e e e e e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e e d e e e d e e e 
e e e e e e e e e e e e e e e e 
e e e e e e e e e e e e e e e e 
`
    //% blockIdentity=images._tile
    export const tile2 = img`
b c c f b b b b f c c c c c b b 
b f f f b b b b f f f f f f b b 
b f b b b b b b f b b b b f c b 
b f b b b b b b f b b b b b f c 
b f b b b b b c f b b b b b f f 
c f c c b c c f f c c c b b b f 
f f f f c f f f b f f f b b c f 
b b b f f f b b b b b f c c f f 
b b b f c b b b b b b b f f b b 
b b b f f b b b b b b b f b b b 
b b c c f c c c c c c f f b b b 
c c f f f f f f f f f b f c c c 
f f f c b b b b f b b b f f f f 
b b f f b b b b f b b b b b b b 
b b b f b b b b f b b b b b b b 
b b b f b b b b f b b b b b b b 
`
    //% blockIdentity=images._tile
    export const tile3 = img`
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
`
    //% blockIdentity=images._tile
    export const tile4 = img`
e 6 6 6 6 e e e e e e 6 e 6 e e 
6 6 6 6 6 6 6 6 6 6 e 6 6 6 e e 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 e e 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 e 
6 6 6 7 7 7 7 7 6 6 6 6 6 6 e e 
6 6 7 7 6 7 7 7 6 6 6 7 7 7 6 e 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 7 6 6 6 6 
6 6 6 7 7 7 7 7 7 7 7 7 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 7 7 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 7 
6 7 7 7 7 7 7 7 6 6 6 6 6 7 6 6 
6 6 6 6 6 6 6 7 7 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 7 6 6 6 6 6 6 6 
e e e e e e 6 6 6 e e e 6 6 e e 
`
    //% blockIdentity=images._tile
    export const tile5 = img`
e e e e e e e e 2 e e e e e e e 
e e e e e e e 2 2 2 e e e e e e 
e e e e e e 2 2 2 2 2 e e e e e 
e e e e e e 2 2 4 2 2 e e e e e 
e e e e e 2 2 2 4 2 2 2 e e e e 
e e e e 2 2 2 4 4 4 2 2 2 e e e 
e e e 2 2 2 4 4 4 4 4 2 2 2 e e 
e e e 2 2 4 4 5 5 5 4 4 2 2 e e 
e e e 2 2 4 5 5 5 5 5 4 2 2 e e 
e e e 2 2 4 5 5 5 5 5 4 2 2 e e 
e e e 2 2 4 5 5 5 5 5 4 2 2 e e 
e e e 2 2 4 4 5 5 5 4 4 2 2 e e 
e e e 2 2 2 4 4 4 4 4 2 2 2 e e 
e e e e 2 2 2 2 2 2 2 2 2 e e e 
e e e e e 2 2 2 2 2 2 2 e e e e 
e e e e e e e e e e e e e e e e 
`
}
function createjohn () {
    john = sprites.create(img`
. . . . . . . . . . b 5 b . . . 
. . . . . . . . . b 5 b . . . . 
. . . . . . b b b b b b . . . . 
. . . . . b b 5 5 5 5 5 b . . . 
. . . . b b 5 d 1 f 5 5 d f . . 
. . . . b 5 5 1 f f 5 d 4 c . . 
. . . . b 5 5 d f b d d 4 4 . . 
. b b b d 5 5 5 5 5 4 4 4 4 4 b 
b d d d b b d 5 5 4 4 4 4 4 b . 
b b d 5 5 5 b 5 5 5 5 5 5 b . . 
c d c 5 5 5 5 d 5 5 5 5 5 5 b . 
c b d c d 5 5 b 5 5 5 5 5 5 b . 
. c d d c c b d 5 5 5 5 5 d b . 
. . c b d d d d d 5 5 5 b b . . 
. . . c c c c c c c c b b . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.Player)
    controller.moveSprite(john)
    initHUDSprite(freezeBar)
    scene.cameraFollowSprite(john)
}
function drawHUDMeter (percent: number, hudSprite: Sprite, onColor: number, offColor: number) {
    hudSprite.image.fill(offColor)
    fillWidth = percent * meterWidth / 100
    hudSprite.image.fillRect(0, 0, fillWidth, hudSprite.height, onColor)
}
function initHUDSprite (hudSprite: Sprite) {
    hudSprite.z = 200
    hudSprite.setFlag(SpriteFlag.RelativeToCamera, true)
    hudSprite.setImage(image.create(meterWidth, 4))
    hudSprite.left = 10
}
let fillWidth = 0
let meterWidth = 0
let freezeBar: Sprite = null
let john: Sprite = null
tiles.setTilemap(tiles.createTilemap(
            hex`1000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
            img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5],
            TileScale.Sixteen
        ))
createjohn()
tiles.placeOnTile(john, tiles.getTileLocation(16, 16))
freezeBar = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.HUD)
let hungerBar = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.HUD)
hungerBar.top = scene.screenHeight() - 12
freezeBar.top = scene.screenHeight() - 6
meterWidth = scene.screenWidth() - 20
initHUDSprite(freezeBar)
initHUDSprite(hungerBar)
let hunger = 100
let freeze = 100
let campfire = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.Fire)
tiles.placeOnRandomTile(campfire, myTiles.tile3)
